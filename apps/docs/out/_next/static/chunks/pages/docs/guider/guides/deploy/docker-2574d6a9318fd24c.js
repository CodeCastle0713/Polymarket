(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3659],{8048:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/guider/guides/deploy/docker",function(){return s(1802)}])},1802:function(e,n,s){"use strict";s.r(n);var l=s(7458),a=s(8838);function r(e){let n={code:"code",figcaption:"figcaption",figure:"figure",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",strong:"strong",...(0,a.ah)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"docker",children:"Docker"}),"\n",(0,l.jsx)(n.p,{children:"A Dockerfile to build a Guider documentation site container."}),"\n",(0,l.jsx)(n.h2,{id:"the-code",children:"The code"}),"\n",(0,l.jsxs)(n.p,{children:["Add the following code to a file called ",(0,l.jsx)(n.span,{"data-rehype-pretty-code-figure":"",children:(0,l.jsx)(n.code,{"data-language":"txt","data-theme":"github-dark-dimmed",children:(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{children:"Dockerfile"})})})}),". ",(0,l.jsx)(n.strong,{children:"It has to be in the same location as your package.json."})]}),"\n",(0,l.jsx)(n.p,{children:"If you're running a monorepo or using private packages, this file won't help. You'll be on your own to figure it out.\r\nAlso if you're using a different package manager, you'll have to change the file to use your specific manager."}),"\n",(0,l.jsxs)(n.figure,{"data-rehype-pretty-code-figure":"",children:[(0,l.jsx)(n.figcaption,{"data-rehype-pretty-code-title":"","data-language":"dockerfile","data-theme":"github-dark-dimmed",children:"Dockerfile"}),(0,l.jsx)(n.pre,{tabIndex:"0","data-language":"dockerfile","data-theme":"github-dark-dimmed",children:(0,l.jsxs)(n.code,{"data-language":"dockerfile","data-theme":"github-dark-dimmed",style:{display:"grid"},children:[(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"FROM"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" node:20-alpine "}),(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"as"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" build"})]}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"WORKDIR"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" /app"})]}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"COPY"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" package*.json ./"})]}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"RUN"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" npm ci"})]}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"COPY"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" . ./"})]}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"RUN"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" npm run build"})]}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"FROM"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" nginx:1.25-alpine "}),(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"as"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" run"})]}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"EXPOSE"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" 80"})]}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"RUN"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" cat > /etc/nginx/nginx.conf << EOF"})]}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"server {"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"  listen 80;"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"  location / {"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"    root /usr/share/nginx/html;"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"    try_files $uri /404.html;"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"  }"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"}"})}),"\n",(0,l.jsx)(n.span,{"data-line":"",children:(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:"EOF"})}),"\n",(0,l.jsxs)(n.span,{"data-line":"",children:[(0,l.jsx)(n.span,{style:{color:"#F47067"},children:"COPY"}),(0,l.jsx)(n.span,{style:{color:"#ADBAC7"},children:" --from=build /app/out /usr/share/nginx/html"})]})]})})]})]})}n.default=(0,a.wm)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,a.ah)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(r,{...e})}):r(e)},pageOpts:{meta:{},headings:[{depth:1,value:"Docker",data:{hProperties:{id:"docker"},id:"docker"}},{depth:2,value:"The code",data:{hProperties:{id:"the-code"},id:"the-code"}}],excerpt:"A Dockerfile to build a Guider documentation site container."}})}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=8048)}),_N_E=e.O()}]);